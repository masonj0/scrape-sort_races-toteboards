{
    "filepath": "./src/paddock_parser/tests/test_equibase_adapter.py",
    "content": "import pytest\nfrom paddock_parser.models.race import RaceStatus\nfrom paddock_parser.parsers.equibase import EquibaseAdapter\n\n\n@pytest.fixture\ndef sample_html():\n    with open(\"src/paddock_parser/fixtures/equibase_sample.html\", \"r\") as f:\n        return f.read()\n\n\ndef test_parse_races(sample_html):\n    adapter = EquibaseAdapter()\n    races = adapter.parse_races(sample_html)\n    assert len(races) == 10\n\n    # Test the first race\n    race = races[0]\n    assert race.race_id == \"SAR-2025-08-22-1\"\n    assert race.source_id == \"SAR-2025-08-22-1\"\n    assert race.source_name == \"equibase\"\n    assert race.name == \"Maiden Special Weight\"\n    assert race.status == RaceStatus.OPEN\n    assert race.purse == 90000\n    assert race.distance == \"5 1/2 F\"\n    assert race.surface == \"Turf\"\n    assert len(race.runners) == 9\n\n    # Test a runner from the first race (placeholder)\n    assert race.runners[0].name == \"Runner 1\"\n    assert race.runners[0].source_id == \"1\"\n\n    # Test the last race\n    race = races[9]\n    assert race.race_id == \"SAR-2025-08-22-10\"\n    assert race.purse == 50000\n    assert race.distance == \"5 1/2 F\"\n    assert race.surface == \"Turf\"\n    assert len(race.runners) == 14\n"
}